小智的分析

​	[Send Text](https://github.com/78/xiaozhi-esp32/blob/213117ded24f4a41ae6b90cf146f92a4f014d2c0/main/protocols/protocol.cc#L51C16-L51C36)这里发送了 "你好小智"，[Set wake_word](https://github.com/78/xiaozhi-esp32/blob/213117ded24f4a41ae6b90cf146f92a4f014d2c0/main/boards/esp32-cgc/esp32_cgc_board.cc#L137)这里设置了唤醒词的内容，官方的后端遵循了不相信前端返回的内容，所以后端发给Ai的内容实际上是 "Hi, 小智"，所以使用`SendText`给服务端发消息好像无济于事，只能用`SendAudio`。但是可以通过提示词更改行为。

```text
每次收到 "Hi, 小智" 都调用工具获取茶园土壤器状态。

调用方法: GetSoilSensorData
异步方法，进行等待!
{"jsonrpc":"2.0","id":28,"result":{"content":[{"type":"text","text":"{\u0022\\u6E29\\u5EA6\u0022:0,\u0022\\u6E7F\\u5EA6\u0022:0,\u0022PH\\u503C\u0022:0,\u0022\\u7535\\u5BFC\\u7387\u0022:0,\u0022\\u6E29\\u5EA6\\u5EFA\\u8BAE\u0022:\u0022\u0022,\u0022\\u6E7F\\u5EA6\\u5EFA\\u8BAE\u0022:\u0022\u0022,\u0022PH\\u503C\\u5EFA\\u8BAE\u0022:\u0022\u0022,\u0022\\u7535\\u5BFC\\u7387\\u5EFA\\u8BAE\u0022:\u0022\u0022}"}]}}
执行了一次调用"GetSoilSensorData"
```



[Protocol.cc](https://github.com/78/xiaozhi-esp32/blob/213117ded24f4a41ae6b90cf146f92a4f014d2c0/main/protocols/protocol.cc)